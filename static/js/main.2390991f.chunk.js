(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){e.exports=n.p+"static/media/infnote-logo.8223000b.png"},2:function(e,t,n){"use strict";var a={apiAddress:"https://hk.infnote.com",chainAddress:"https://hk.infnote.com",languagesList:["English","Simplified Chinese"],defaultLanguage:"en-US"},r=n(4),l=n(3),i=n(31),o=function(){function e(){Object(r.a)(this,e)}return Object(l.a)(e,null,[{key:"getValue",value:function(e){return localStorage.getItem(e)}},{key:"setValue",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeItem",value:function(e){localStorage.removeItem(e)}},{key:"migrate",value:function(){if(null==e.getValue("apiAddress")&&e.setValue("apiAddress",a.apiAddress),null==e.getValue("chainAddress")&&e.setValue("chainAddress",a.chainAddress),null==e.getValue("language")){var t=navigator.language||navigator.userLanguage;"en-US"!==t&&"zh-CN"!==t&&(t=a.defaultLanguage),e.setValue("language",t)}i.a.index=e.getValue("language")}}]),e}();n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i.b})},208:function(e,t,n){"use strict";(function(e){var a=n(4),r=n(3),l=n(40),i=n(87),o=function(){function t(e){var n=this;Object(a.a)(this,t),e&&t.getMembers().forEach(function(t){return n[t]=e[t]});var r=t.getMembers().reduce(function(e,t){return e[t]={writable:!1},e},{});Object.defineProperties(this,r),Object.seal(this)}return Object(r.a)(t,null,[{key:"getMembers",value:function(){return["title","content","data_submitted","reply_to","user_id","nsfw","signature"]}},{key:"submit",value:function(t,n){var a={title:t,content:n,date_submitted:Math.floor(Date.now()/1e3),reply_to:null,nsfw:!1},r=JSON.stringify(a,Object.keys(a).sort()),o=new e(r),c=i.a.currentUser().key;return a.signature=c.sign(o),a.user_id=c.toAddress(),l.a.shared().client.post("/post/",a)}}]),t}();t.a=o}).call(this,n(30).Buffer)},308:function(e,t,n){e.exports=n(812)},31:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(4),r=n(3),l=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,null,[{key:"read",value:function(t){return e.words[e.index][t]}}]),e}();l.words={"en-US":{apiserver:"API Server",cancel:"Cancel",close:"Close",connectionError:"Connection Error",email:"Email",error:"Error",login:"Login",logout:"Logout","logout?":"Are you sure to logout?",register:"Register",save:"Save",nickname:"Nickname",myPrivateKey:"My Private Key",ok:"OK",privateKeyWIF:"Private Key (Wallet Import Format)",post:"Post","dialog.privatekey.copy":"Copy to Clipboard",loading:"Loading...",no_more_data:"No More Note",anonymous:"Anonymous","anonymous.status":"As Anonymous",expand:"Expand to Read All","user.notfound":"Cannot find user, please sign up first","private_key.important_hint":"\u26a0\ufe0fIMPORTANT: Private key is only saved locally in your browser. We won't retrive your key in any form. Please save your key somewhere carefully, it cannot be restored if lost.","post.limit_exceed":"Content size exceed 1000 bytes limit.","post.empty":"Cannot post an empty note."},"zh-CN":{apiserver:"API \u670d\u52a1\u5668",cancel:"\u53d6\u6d88",close:"\u5173\u95ed",connectionError:"\u8fde\u63a5\u9519\u8bef",email:"\u90ae\u7bb1",error:"\u9519\u8bef",login:"\u767b\u5f55",logout:"\u767b\u51fa","logout?":"\u786e\u5b9a\u8981\u767b\u51fa\u5417\uff1f",register:"\u6ce8\u518c",save:"\u4fdd\u5b58",nickname:"\u6635\u79f0",myPrivateKey:"\u6211\u7684\u5bc6\u94a5",ok:"\u786e\u5b9a",privateKeyWIF:"\u79d8\u94a5 (WIF\u683c\u5f0f)",post:"\u53d1\u5e16","dialog.privatekey.copy":"\u590d\u5236\u5230\u526a\u8d34\u677f",loading:"\u52a0\u8f7d\u4e2d...",no_more_data:"\u6ca1\u6709\u66f4\u591a Note \u4e86",anonymous:"\u533f\u540d","anonymous.status":"\u533f\u540d\u72b6\u6001",expand:"\u9605\u8bfb\u5168\u6587","user.notfound":"\u7528\u6237\u672a\u6ce8\u518c","private_key.important_hint":"\u26a0\ufe0f\u91cd\u8981\uff1a\u79c1\u94a5\u5c06\u53ea\u4f1a\u4fdd\u5b58\u4e8e\u672c\u5730\u6d4f\u89c8\u5668\u4e2d\u3002\u672c\u7ad9\u4e0d\u4f1a\u4ee5\u4efb\u4f55\u5f62\u5f0f\u83b7\u53d6\u60a8\u7684\u79c1\u94a5\uff0c\u82e5\u4e0d\u614e\u4e22\u5931\u5c06\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u59a5\u5584\u4fdd\u7ba1\u3002","post.limit_exceed":"\u8d85\u51fa 10000 \u5b57\u8282\u5185\u5bb9\u9650\u5236","post.empty":"\u65e0\u6cd5\u53d1\u9001\u7a7a\u5185\u5bb9"}},l.index="",t.b=function(e){return l.read(e)}},313:function(e,t,n){},40:function(e,t,n){"use strict";var a=n(4),r=n(3),l=n(143),i=n.n(l),o=n(2),c=null,s=function(){function e(){Object(a.a)(this,e),this.client=i.a.create({baseURL:e.getAPIAddress()})}return Object(r.a)(e,null,[{key:"shared",value:function(){return null===c&&(c=new e),c}},{key:"changeURL",value:function(t){e.shared().client=i.a.create({baseURL:t})}},{key:"getAPIAddress",value:function(){var e=localStorage.getItem("apiAddress");return null===e?o.a.apiAddress:e}}]),e}();t.a=s},62:function(e,t,n){"use strict";(function(e){var a=n(4),r=n(3),l=n(72),i=n.n(l),o=n(53),c=n.n(o),s=n(144),u=n.n(s),d=n(52),m=n.n(d),g=function(){function t(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(a.a)(this,t),this.keyPair=null,e&&(this.keyPair=i.a.ECPair.makeRandom())}return Object(r.a)(t,[{key:"toWIF",value:function(){return this.keyPair.toWIF()}},{key:"toAddress",value:function(){return i.a.payments.p2pkh({pubkey:this.keyPair.publicKey}).address}}],[{key:"fromWIF",value:function(e){var n=new t(!1);return n.keyPair=i.a.ECPair.fromWIF(e),n}},{key:"getAddress",value:function(e){return i.a.payments.p2pkh({pubkey:c.a.decode(e)}).address}},{key:"encodeSignature",value:function(t,n,a){return a&&(n+=4),e.concat([e.alloc(1,n+27),t])}},{key:"decodeSignature",value:function(e){if(65!==e.length)throw new Error("Invalid signature length");var t=e.readUInt8(0)-27;if(t>7)throw new Error("Invalid signature parameter");return{compressed:!!(4&t),recovery:3&t,signature:e.slice(1)}}}]),Object(r.a)(t,[{key:"publicKey",value:function(){return c.a.encode(this.keyPair.publicKey).toString()}},{key:"sign",value:function(e){var n=u.a.sign(m()("sha256").update(e).digest(),this.keyPair.privateKey);return c.a.encode(t.encodeSignature(n.signature,n.recovery,!0)).toString()}}],[{key:"recoverAddress",value:function(n,a){var r=m()("sha256").update(a).digest();e.isBuffer(n)||(n=c.a.decode(n));var l=t.decodeSignature(n),i=c.a.encode(u.a.recover(r,l.signature,l.recovery,!0)).toString();return t.getAddress(i)}}]),t}();t.a=g}).call(this,n(30).Buffer)},724:function(e,t){},728:function(e,t){},750:function(e,t){},752:function(e,t){},812:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(7),i=n.n(l),o=(n(313),n(4)),c=n(3),s=n(27),u=n(6),d=n(28),m=n(88),g=n.n(m),h=n(10),f=n(814),p=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.language,n=e.value;return r.a.createElement(f.a,{language:t},n)}}]),t}(r.a.PureComponent);p.defaultProps={language:null};var b=p,y=n(31),v=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.alt;return r.a.createElement("img",{style:{maxWidth:"100%"},src:t,alt:n})}}]),t}(r.a.PureComponent);v.defaultProps={language:null};var E=v,k=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.object,n=e.onClick,a=new Date(1e3*t.dateSubmitted),l=t.user.nickname;return r.a.createElement(h.d,{onClick:t.truncated?n:null},r.a.createElement(h.f,{avatar:r.a.createElement(h.b,null,"\u221e"),title:"anonymous"===l?Object(y.b)(l):l,subheader:a.toLocaleString()}),r.a.createElement(h.e,{style:{paddingTop:0}},r.a.createElement(h.s,{component:"div",style:{wordBreak:"break-word"}},r.a.createElement(g.a,{source:t.content+(t.truncated?"...":""),renderers:{code:b,image:E}})),r.a.createElement(h.m,{container:!0,justify:"flex-end"},r.a.createElement(h.s,{style:{color:"gray"}},t.truncated?Object(y.b)("expand"):""))))}}]),t}(a.Component),O=n(146),j=n(91),C=n.n(j),w=n(90),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case"refresh":return!0;default:return e}},x=Object(w.a)({refresh:S}),A=n(40),U=function(){function e(t){var n=this;if(Object(o.a)(this,e),t){var a=e.getMap();e.getMembers().forEach(function(e){return n[e]=t[a[e]]})}var r=e.getMembers().reduce(function(e,t){return e[t]={writable:!1},e},{});Object.defineProperties(this,r),Object.seal(this)}return Object(c.a)(e,null,[{key:"getMap",value:function(){return{id:"id",replyTo:"reply_to",lastReply:"last_reply",user:"user",replies:"replies",title:"title",content:"content",dateSubmitted:"date_submitted",nsfw:"nsfw",signature:"signature",blockTime:"block_time",blockHeight:"block_height",truncated:"truncated"}}},{key:"getMembers",value:function(){return["id","replyTo","lastReply","user","replies","title","content","dateSubmitted","nsfw","signature","blockTime","blockHeight","truncated"]}},{key:"fetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return A.a.shared().client.get("/post/list/",{params:{page:t,size:n}}).then(function(t){return t.data.results.map(function(t){return new e(t)})})}},{key:"fetchNote",value:function(t){return A.a.shared().client.get("/post/"+t+"/").then(function(t){return new e(t.data)})}}]),e}(),D=n(208),N=n(87),W=(n(62),Object(w.b)(x)),I=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={notes:[],page:1,alert:!1,alertContent:"",loading:0,expand:!1,expandNote:{user:{},dateSubmitted:0}},n.bottomEl=null,n.update=function(e,t){(3!==n.state.loading||t)&&(n.setState({loading:1,page:e}),U.fetch(e).then(function(e){n.setState({notes:t?e:[].concat(Object(O.a)(n.state.notes),Object(O.a)(e)),loading:2})}).catch(function(e){e.response?404!==e.response.status?n.setState({alert:!0,alertContent:e.message}):n.setState({loading:3}):n.setState({alert:!0,alertContent:"\u8fde\u63a5\u5931\u8d25\uff0c\u670d\u52a1\u5668\u5df2\u505c\u6b62\u8fd0\u884c\u6216 API \u670d\u52a1\u5668\u5730\u5740\u9519\u8bef"})}))},n.bottomEvent=function(){var e=document.getElementById(n.state.notes.length-1);e&&e.getBoundingClientRect().bottom<=window.innerHeight&&n.bottomEl!==e&&(n.bottomEl=e,n.update(n.state.page+1))},n.handleAlertClose=function(){n.setState({alert:!1})},n.handleExpand=function(e){return function(){n.setState({expand:!0,expandNote:e}),U.fetchNote(e.id).then(function(e){n.setState({expandNote:e})})}},n.handleExpandClose=function(){n.setState({expand:!1})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.update(1,!0),document.addEventListener("scroll",this.bottomEvent),W.subscribe(function(){W.getState().refresh&&(e.setState({notes:[]}),e.update(1,!0))})}},{key:"componentWillUnmount",value:function(){this.setState({notes:[],page:0}),document.removeEventListener("scroll",this.bottomEvent)}},{key:"render",value:function(){var e=this,t=this.state,n=t.notes,a=t.alert,l=t.alertContent,i=t.loading,o=t.expand,c=t.expandNote,s=n.map(function(t,n){return r.a.createElement(h.m,{item:!0,key:n,id:n},r.a.createElement(k,{object:t,onClick:e.handleExpand(t)}))}),u=new Date(1e3*c.dateSubmitted);return r.a.createElement("div",null,r.a.createElement(h.m,{container:!0,justify:"center"},r.a.createElement(h.m,{item:!0,xs:11,sm:8,md:5},r.a.createElement(h.m,{container:!0,direction:"column",spacing:16},r.a.createElement(h.m,{item:!0},r.a.createElement(q,null)),s,r.a.createElement(h.m,{item:!0},r.a.createElement(h.s,{style:1===i?{textAlign:"center"}:{display:"none"}},Object(y.b)("loading")),r.a.createElement(h.s,{style:3===i?{textAlign:"center"}:{display:"none"}},Object(y.b)("no_more_data")))))),r.a.createElement(h.g,{open:a,onClose:this.handleAlertClose,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.k,{id:"form-dialog-title"},Object(y.b)("loading.error")),r.a.createElement(h.i,null,r.a.createElement(h.j,null,l)),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleAlertClose,color:"primary"},Object(y.b)("ok")))),r.a.createElement(h.g,{open:o,onClose:this.handleExpandClose,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.f,{avatar:r.a.createElement(h.b,null,"\u221e"),title:c.user.nickname,subheader:u.toLocaleString(),action:r.a.createElement(h.n,{onClick:this.handleExpandClose,color:"primary"},r.a.createElement(C.a,null))}),r.a.createElement(h.i,null,r.a.createElement(h.s,{component:"div",style:{wordBreak:"break-word"}},r.a.createElement(g.a,{source:c.content,renderers:{code:b}})))))}}]),t}(a.Component),L=(a.Component,n(42)),P=n(9),M=n(14),_=n.n(M),B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.size,a=e.className;return r.a.createElement("div",{className:_()(t[n],a)})}}]),t}(a.Component),K=Object(P.withStyles)({xs4:{height:5},xs3:{height:10},xs2:{height:15},xs:{height:20},sm:{height:25},md:{height:40},lg:{height:60},xl:{height:80},xl2:{height:100},xl3:{height:150},xl4:{height:220}})(B),V=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.width,a=e.color;return r.a.createElement("div",{className:t.line,style:{borderBottomColor:a,borderBottomWidth:n}})}}]),t}(a.Component),R=(Object(P.withStyles)({line:{borderBottomStyle:"solid",borderBottomWidth:1,borderBottomColor:"#EEE",width:"100%"}})(V),function(){return{type:"refresh"}}),F=n(2),T={content:1e4},z=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",contentRemain:T.content,alert:!1,alertContent:""},n.handleChange=function(e){return function(t){var a;n.setState((a={},Object(L.a)(a,e,t.target.value),Object(L.a)(a,e+"Remain",T[e]-t.target.value.length),a))}},n.handleAlertClose=function(){n.setState({alert:!1})},n.post=function(){var e=n.state.content.trim();e.length>T.content?n.setState({alert:!0,alertContent:Object(F.c)("post.limit_exceed")}):e.length<=0?n.setState({alert:!0,alertContent:Object(F.c)("post.empty")}):D.a.submit(null,e).then(function(){n.setState({content:"",contentRemain:T.content}),W.dispatch(R())}).catch(function(e){n.setState({alert:!0,alertContent:e.message})})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state,n=t.content,a=t.contentRemain,l=t.alert,i=t.alertContent;return r.a.createElement("div",null,r.a.createElement(h.d,null,r.a.createElement(h.e,null,r.a.createElement(h.q,{id:"outlined-multiline-flexible",label:"Note",multiline:!0,rows:"4",fullWidth:!0,value:n,onChange:this.handleChange("content"),margin:"normal",variant:"outlined"}),r.a.createElement(K,{size:"xs4"}),r.a.createElement(h.m,{container:!0,justify:"space-between"},r.a.createElement(h.m,{item:!0},r.a.createElement(h.s,{className:a>=0?e.remainText:e.remainHighlight},a>=0?a:0)),r.a.createElement(h.m,{item:!0},r.a.createElement(h.c,{variant:"contained",onClick:this.post},Object(F.c)("post")))))),r.a.createElement(h.g,{open:l,onClose:this.handleAlertClose,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("error")),r.a.createElement(h.i,null,r.a.createElement(h.j,null,i)),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleAlertClose,color:"primary"},Object(F.c)("ok")))))}}]),t}(a.Component),q=Object(P.withStyles)({remainText:{textAlign:"left",color:"gray"},remainHighlight:{textAlign:"left",color:"red"}})(z),H=n(243),J=n.n(H),Q=n(145),X=n.n(Q),Z=n(242),$=n.n(Z),G=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={drawer:!1,loginDialog:!1,signUpDialog:!1,logoutDialog:!1,keyDialog:!1,logged:!1,apiAddress:F.b.getValue("apiAddress"),chainAddress:F.b.getValue("chainAddress"),wif:F.b.getValue("wif"),nickname:"",email:"",anchorEl:null,alert:!1,alertContent:"",signUpErrors:{}},n.handleOpenLogin=function(){n.handleMenuClose(),n.setState({loginDialog:!0})},n.handleCloseLogin=function(){n.setState({loginDialog:!1})},n.handleLogin=function(){n.handleCloseLogin(),null!=n.state.wif&&n.state.wif.length>0&&N.a.updateCurrentUser(n.state.wif).then(function(){n.setState({nickname:N.a.currentUser().nickname,logged:!0}),F.b.setValue("wif",n.state.wif),A.a.changeURL(n.state.apiAddress),W.dispatch(R())}).catch(function(e){e.response&&404===e.response.status?n.setState({alert:!0,alertContent:Object(F.c)("user.notfound")}):n.setState({alert:!0,alertContent:e.message}),n.logout()})},n.handleClickOpenSignUp=function(){n.setState({signUpDialog:!0})},n.handleCloseSignUp=function(){n.setState({signUpDialog:!1})},n.handleSubmitSignUp=function(){N.a.signUp(n.state.nickname,n.state.email).then(function(e){n.setState({logged:!0,nickname:N.a.currentUser().nickname,email:N.a.currentUser().email,wif:e,signUpDialog:!1,keyDialog:!0}),F.b.setValue("wif",e),W.dispatch(R())}).catch(function(e){e.response&&400===e.response.status?n.setState({signUpErrors:e.response.data}):n.setState({alert:!0,alertContent:Object(F.c)("connectionError")})})},n.handleClickOpenLogout=function(){n.handleMenuClose(),n.setState({logoutDialog:!0})},n.handleCloseLogout=function(){n.setState({logoutDialog:!1})},n.handleLogout=function(){n.setState({logoutDialog:!1}),n.logout()},n.handleOpenKeyDialog=function(){n.setState({keyDialog:!0,anchorEl:null})},n.handleCloseKeyDialog=function(){n.setState({keyDialog:!1,copied:!1})},n.handleAlertClose=function(){n.setState({alert:!1})},n.toggleDrawer=function(e){return function(){n.setState({drawer:e})}},n.drawerSave=function(){n.toggleDrawer(!1)(),F.b.setValue("apiAddress",n.state.apiAddress),F.b.setValue("chainAddress",n.state.chainAddress),A.a.changeURL(n.state.apiAddress),W.dispatch(R())},n.handleChange=function(e){return function(t){n.setState(Object(L.a)({},e,t.target.value))}},n.handleMenuOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.handleMenuClose=function(){n.setState({anchorEl:null})},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){this.setState({logged:!1}),this.setState({nickname:""}),this.setState({email:""}),this.setState({wif:""}),F.b.removeItem("wif"),N.a.logout(),W.dispatch(R())}},{key:"componentWillMount",value:function(){var e=this;null!=this.state.wif&&N.a.updateCurrentUser(this.state.wif).then(function(){e.setState({logged:!0}),e.setState({nickname:N.a.currentUser().nickname}),e.setState({email:N.a.currentUser().email}),W.dispatch(R())})}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.state,a=n.anchorEl,l=n.apiAddress,i=n.wif,o=n.nickname,c=n.email,s=n.logged,u=n.loginDialog,d=n.signUpDialog,m=n.logoutDialog,g=n.keyDialog,f=n.alert,p=n.alertContent,b=n.signUpErrors;return r.a.createElement("div",null,r.a.createElement(h.a,{position:"fixed",color:"inherit"},r.a.createElement(h.r,null,r.a.createElement("img",{src:X.a,alt:"",srcSet:X.a+" 2x",width:"80"}),s?r.a.createElement(h.m,{container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(h.m,{item:!0},r.a.createElement(h.c,{"aria-owns":a?"simple-menu":void 0,"aria-haspopup":"true",onClick:e.handleMenuOpen,className:t.userButton},r.a.createElement(h.s,null,r.a.createElement("strong",null,o))))):r.a.createElement(h.m,{container:!0,justify:"flex-end",alignItems:"center"},r.a.createElement(h.m,{item:!0},r.a.createElement(h.s,{className:t.hint},Object(F.c)("anonymous.status"))),r.a.createElement(h.m,{item:!0},r.a.createElement(h.c,{className:t.userButton,onClick:e.handleOpenLogin},r.a.createElement(h.s,null,r.a.createElement("strong",null,Object(F.c)("login"))))),r.a.createElement(h.m,{item:!0},r.a.createElement(h.c,{className:t.userButton,onClick:e.handleClickOpenSignUp},r.a.createElement(h.s,null,r.a.createElement("strong",null,Object(F.c)("register")))))),r.a.createElement(h.n,{className:t.settingsButton,onClick:this.toggleDrawer(!0)},r.a.createElement(J.a,null)))),r.a.createElement(h.o,{id:"simple-menu",anchorEl:a,open:Boolean(a),onClose:this.handleMenuClose},r.a.createElement(h.p,{onClick:this.handleOpenKeyDialog},Object(F.c)("myPrivateKey")),r.a.createElement(h.p,{onClick:this.handleClickOpenLogout},Object(F.c)("logout"))),r.a.createElement(h.g,{fullWidth:!0,open:u,onClose:this.handleCloseLogin,"aria-labelledby":"form-dialog-title"},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("login")),r.a.createElement(h.i,null,r.a.createElement(h.q,{margin:"dense",id:"login-wif",label:Object(F.c)("privateKeyWIF"),value:null===i?"":i,onChange:this.handleChange("wif"),variant:"outlined",multiline:!0,fullWidth:!0})),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleCloseLogin,color:"primary"},Object(F.c)("cancel")),r.a.createElement(h.c,{onClick:this.handleLogin,color:"primary"},Object(F.c)("login")))),r.a.createElement(h.g,{open:d,onClose:this.handleCloseSignUp,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("register")),r.a.createElement(h.i,null,r.a.createElement(h.q,{margin:"dense",id:"nickname",label:Object(F.c)("nickname"),fullWidth:!0,value:o,onChange:this.handleChange("nickname"),variant:"outlined"}),function(){if(b.nickname)return r.a.createElement(h.s,{className:t.error},b.nickname)}(),r.a.createElement(h.q,{margin:"dense",id:"email",label:Object(F.c)("email"),type:"email",fullWidth:!0,value:c,onChange:this.handleChange("email"),variant:"outlined"}),function(){if(b.email)return r.a.createElement(h.s,{className:t.error},b.email)}()),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleCloseSignUp,color:"primary"},Object(F.c)("cancel")),r.a.createElement(h.c,{onClick:this.handleSubmitSignUp,color:"primary"},Object(F.c)("register")))),r.a.createElement(h.g,{open:m,onClose:this.handleCloseLogout,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("logout")),r.a.createElement(h.i,null,r.a.createElement(h.j,null,Object(F.c)("logout?"))),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleCloseLogout,color:"primary"},Object(F.c)("cancel")),r.a.createElement(h.c,{onClick:this.handleLogout,color:"primary"},Object(F.c)("logout")))),r.a.createElement(h.g,{open:g,onClose:this.handleCloseLogout,"aria-labelledby":"form-dialog-title"},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("myPrivateKey")),r.a.createElement(h.i,null,r.a.createElement(h.m,{container:!0,direction:"column",spacing:16},r.a.createElement(h.m,{item:!0},r.a.createElement(h.s,{style:{color:"red"}},Object(F.c)("private_key.important_hint"))),r.a.createElement(h.m,{item:!0,style:{textAlign:"center"}},r.a.createElement($.a,{value:i,renderAs:"svg",size:256})),r.a.createElement(h.m,{item:!0},r.a.createElement(h.q,{id:"wif-for-copy",value:i,readOnly:!0,fullWidth:!0})))),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleCloseKeyDialog},Object(F.c)("close")))),r.a.createElement(h.g,{open:f,onClose:this.handleAlertClose,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement(h.k,{id:"form-dialog-title"},Object(F.c)("error")),r.a.createElement(h.i,null,r.a.createElement(h.j,null,p)),r.a.createElement(h.h,null,r.a.createElement(h.c,{onClick:this.handleAlertClose,color:"primary"},Object(F.c)("ok")))),r.a.createElement(h.l,{anchor:"right",open:this.state.drawer,onClose:this.toggleDrawer(!1)},r.a.createElement("div",{className:t.drawer},r.a.createElement(h.m,{container:!0,justify:"flex-end"},r.a.createElement(h.n,{onClick:this.toggleDrawer(!1)},r.a.createElement(C.a,null))),r.a.createElement(h.q,{id:"api-server",label:Object(F.c)("apiserver"),value:l,margin:"normal",fullWidth:!0,onChange:this.handleChange("apiAddress")}),r.a.createElement(K,{size:"xs2"}),r.a.createElement(h.c,{variant:"contained",className:t.button,onClick:this.drawerSave,fullWidth:!0},Object(F.c)("save"))),r.a.createElement(h.s,{style:{textAlign:"center",color:"gray",position:"fixed",bottom:15,width:"100%"}},"infnote v0.1.0")))}}]),t}(a.Component),Y=Object(P.withStyles)(function(e){var t;return{settingsButton:{marginLeft:15},drawer:(t={},Object(L.a)(t,e.breakpoints.up("xs"),{width:"100vw"}),Object(L.a)(t,e.breakpoints.up("sm"),{width:400}),Object(L.a)(t,"padding",15),Object(L.a)(t,"boxSizing","border-box"),t),userButton:{textTransform:"none"},dialogText:{overflowWrap:"break-word"},error:{color:"red"},hint:{fontSize:12,fontWeight:"bold",color:e.palette.grey[500],padding:5}}})(G),ee=Object(P.createMuiTheme)({typography:{useNextVariants:!0,fontFamily:["Avenir Next","-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue"]}}),te=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(P.MuiThemeProvider,{theme:ee},r.a.createElement(Y,null),r.a.createElement(K,{size:"xl"}),r.a.createElement(I,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));F.b.migrate(),i.a.render(r.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,n){"use strict";(function(e){var a,r=n(4),l=n(3),i=n(40),o=n(62),c=n(31),s=function(){function t(){Object(r.a)(this,t)}return Object(l.a)(t,null,[{key:"currentUser",value:function(){return a||(a=t.anonymous())}},{key:"setCurrentUser",value:function(e){a=e}},{key:"updateCurrentUser",value:function(e){var n=o.a.fromWIF(e),a=n.toAddress();return t.getNickName(a).then(function(e){t.setCurrentUser({key:n,userID:a,nickname:e.data.nickname,email:e.data.email})})}},{key:"signUp",value:function(n,a){var r=new o.a,l=r.toAddress(),c={email:a,nickname:n},s=JSON.stringify(c),u=new e(s),d=r.sign(u);return i.a.shared().client.post("/user/create/",{user_id:l,nickname:n,email:a,signature:d}).then(function(e){return t.setCurrentUser({key:r,userID:l,nickname:e.data.nickname,email:e.data.email}),r.toWIF()})}},{key:"logout",value:function(){t.setCurrentUser(t.anonymous())}},{key:"getNickName",value:function(e){return i.a.shared().client.get("/user/id/"+e+"/")}},{key:"anonymous",value:function(){var e=o.a.fromWIF("Ky5DFuCVeiZ62gMcMMhedyHAo7VQDomX7JgMRp8xJ1HdtwqJJoq9"),t=e.toAddress();return{key:e,userID:t,nickname:Object(c.b)("anonymous"),email:"anonymous@infnote.com"}}}]),t}();t.a=s}).call(this,n(30).Buffer)}},[[308,2,1]]]);
//# sourceMappingURL=main.2390991f.chunk.js.map